<MudPaper Height="50%" Class="rounded-lg overflow-y-scroll pa-4" id="chatContainer" Width="90%">
    @{
        for (int i = 0; i < Messages.Count; i++)
        {
            var message = Messages[i];
            var position = i > 0 && Messages[i - 1].User != message.User
            ? ChatBubblePosition.Start
            : ChatBubblePosition.End;
            var time = message.Timestamp.ToString("g");
            <MudChat ChatPosition="@position">
                <MudAvatar>@message.Initials</MudAvatar>
                <MudChatHeader Name="@message.User" Time="@time" />
                <MudChatBubble>@message.Message</MudChatBubble>
            </MudChat>
        }
    }
</MudPaper>
