@inherits MudButton

@if (Loading)
{
    <MudButton Disabled="true" Variant="@base.Variant" Class="@base.Class" Color="@base.Color" FullWidth="@base.FullWidth">
        <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
        <MudText Class="ms-2">Processing</MudText>
    </MudButton>
}
else
{
    @RenderBase()
    ;
}

@code {
    [Parameter] public bool Loading { get; set; }

    RenderFragment RenderBase() => builder => base.BuildRenderTree(builder);

    protected override void OnInitialized()
    {
        //base.Color = Color.Primary;
        base.Variant = Variant.Filled;
        base.OnInitialized();
    }
}